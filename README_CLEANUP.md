# EBook Library Organizer - Очищенный каркас

## Статус проекта

Проект очищен от всей логики нормализации и синхронизации. Остался только **графический каркас** с окнами, меню и элементами управления.

## Структура проекта

### GUI Компоненты
- **`gui_main.py`** - Главное окно приложения с меню, панелями и древовидным представлением
- **`gui_genres.py`** - Окно управления жанрами
- **`gui_settings.py`** - Окно настроек со списками конфигурации
- **`gui_dialogs.py`** - Диалоговые окна (заглушки)

### Сервисы
- **`logger.py`** - Логирование
- **`settings_manager.py`** - Управление конфигурацией (config.json)
- **`genres_manager.py`** - Управление жанрами (genres.xml)
- **`window_manager.py`** - Менеджер окон (отслеживание открытых окон)
- **`window_persistence.py`** - Сохранение размеров и позиций окон

### Утилиты
- **`protected_workdir.py`** - Защита рабочей директории
- **`file_operations.py`** - Операции с файлами (заглушки)
- **`name_normalizer.py`** - Нормализация имён авторов (отдельный модуль для переиспользования)

### Конфигурация и данные
- **`config.json`** - Файл конфигурации с 10 редактируемыми списками:
  - `filename_blacklist` - слова, которые не считаются названиями серий
  - `service_words` - служебные слова для анализа
  - `sequence_patterns` - регулярные выражения для номеров серий
  - `author_patterns` - паттерны парсинга авторов
  - `series_patterns` - паттерны парсинга серий
  - `abbreviations_preserve_case` - аббревиатуры для сохранения кейса
  - `author_initials_and_suffixes` - инициалы и суффиксы авторов
  - `series_category_words` - категорийные слова серий
  - `male_names` - мужские имена
  - `female_names` - женские имена
- **`genres.xml`** - Структура жанров

## Удалённые файлы

Все файлы, связанные с логикой нормализации и синхронизации, были удалены для чистого старта:
- Модули обработки авторов, серий и FB2 файлов
- Менеджеры синхронизации и валидации
- Логика поиска дубликатов
- Утилиты анализа и исправления
- Временные файлы результатов

## Развёртывание и запуск

```bash
# Запуск приложения
python __main__.py

# Или
python -m gui_main.py
```

## Следующие этапы

1. **Реализовать функциональность сканирования**
   - Сканирование папки с FB2 файлами
   - Извлечение метаданных

2. **Реализовать нормализацию**
   - Использовать `name_normalizer.py` для нормализации имён
   - Реализовать логику нормализации названий серий

3. **Реализовать синхронизацию**
   - Реорганизация файлов в структуру Library/Genre/Author/Series/...
   - Синхронизация с конфигурацией

4. **Дополнительные функции**
   - Поиск дубликатов
   - Валидация библиотеки
   - Экспорт/импорт результатов

## Примечания

- GUI полностью отделена от логики обработки
- Все списки конфигурации редактируются через окно настроек (меню Файл → Настройки → вкладка "Списки")
- Логи выводятся в окно лога (меню Лог → Показать лог)
- Каждое окно сохраняет свою позицию и размер в config.json
